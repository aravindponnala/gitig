{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>customer user login</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link rel=”stylesheet” href=”css/bootstrap-responsive.css”>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Bangers|Titillium+Web" rel="stylesheet">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

</head>
<style>
    .btn:focus {
        outline: none !important;
        box-shadow: none;
    }

    /* Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    /* Firefox */
    input[type=number] {
        -moz-appearance: textfield;
    }

    .btn:focus {
        outline: none !important;
        box-shadow: none;
    }

    .row:before,
    .row:after {
        display: inline-block !important;
    }

    /* {#=====================ANDROID MOBILE (FOR portrait)==========================#} */
    /* Extra small devices (phones, 600px and down) */
    @media only screen and (max-width: 600px) {
        #resend_otp {
            background-color: #E0E0E0;
        }

        .container {
            width: 100%;
        }

        .row {
            width: 100%;
            height: 100%;
        }

        .col {
            width: 100%;
            height: 100%;
        }



        #logo_col {
            margin-top: 33%;

        }

        #logo_id {
            width: 50%;
        }

        #grad1 {
            min-width: 100%;
            min-height: 100vh;
            height: auto;
            width: auto;
            height: auto;
            filter: brightness(100%);
            background-color: lightgrey;
            /* For browsers that do not support gradients */
            background-image: linear-gradient(to right, white, lightgrey);
            /* Standard syntax (must be last) */
        }


        #enter_mobile_number_email {

            border-width: 0.75px;
            width: 100%;
            text-align: center;
        }

        #password_id {

            border-width: 0.75px;
            width: 100%;
            text-align: center;
            border-style: solid;
            border-color: #1f7a1f;
        }

        #login_button {


            font-size: 16px;
            background-color: #003300;
        }

        #forgot_password {

            width: auto;
            font-size: 16px;
            height: 40px;
            background-color: #003300;
        }

        #enter_mobile_number_input_first {
            border-width: 0.75px;
            width: 100%;
            text-align: center;
        }

        #enter_password_input_first {
            border-width: 0.75px;
            width: 100%;
            text-align: center;
        }
    }

    /* Small devices (portrait tablets and large phones, 600px and up) */
    @media only screen and (min-width: 600px) {
        #resend_otp {
            background-color: #E0E0E0;
        }

        .container {
            width: 100%;
        }

        .row {
            width: 100%;
            height: 100%;
        }

        .col {
            width: 100%;
            height: 100%;
        }



        #logo_col {
            margin-top: 20%;

        }

        #logo_id {
            width: 45%;
        }

        #grad1 {
            min-width: 100%;
            min-height: 100vh;
            height: auto;
            width: auto;
            height: auto;
            filter: brightness(100%);
            background-color: lightgrey;
            /* For browsers that do not support gradients */
            background-image: linear-gradient(to right, white, lightgrey);
            /* Standard syntax (must be last) */
        }


        #enter_mobile_number_email {

            border-width: 0.75px;
            width: 100%;
            text-align: center;
        }

        #password_id {

            border-width: 0.75px;
            width: 100%;
            text-align: center;
            border-style: solid;
            border-color: #1f7a1f;
        }

        #login_button {


            font-size: 16px;
            background-color: #003300;
        }

        #forgot_password {

            width: 40%;
            font-size: 16px;
            height: 40px;
            background-color: #003300;
        }

        #enter_mobile_number_input_first {
            border-width: 0.75px;
            width: 100%;
            text-align: center;
        }

        #enter_password_input_first {
            border-width: 0.75px;
            width: 100%;
            text-align: center;
        }
    }


    /* Medium devices (landscape tablets, 768px and up) */
    @media only screen and (min-width: 768px) {
        #resend_otp {
            background-color: #E0E0E0;
        }

        .container {
            width: 100%;
        }

        .row {
            width: 100%;
            height: 100%;
        }

        .col {
            width: 100%;
            height: 100%;
        }



        #logo_col {
            margin-top: 15%;

        }

        #logo_id {
            width: 30%;
        }

        #grad1 {
            min-width: 100%;
            min-height: 100vh;
            height: auto;
            width: auto;
            height: auto;
            filter: brightness(100%);
            background-color: lightgrey;
            /* For browsers that do not support gradients */
            background-image: linear-gradient(to right, white, lightgrey);
            /* Standard syntax (must be last) */
        }



        #enter_mobile_number_email {

            border-width: 0.75px;
            width: 80%;
            text-align: center;
        }

        #password_id {

            border-width: 0.75px;
            width: 80%;
            text-align: center;
            border-style: solid;
            border-color: #1f7a1f;
        }

        #login_button {


            font-size: 16px;
            background-color: #003300;
        }

        #forgot_password {

            width: 30%;
            font-size: 16px;
            height: 40px;
            background-color: #003300;
        }

        #show_password_id {
            margin-left: 10%;
        }

        #enter_mobile_number_input_first {
            border-width: 0.75px;
            width: 80%;
            text-align: center;
        }

        #enter_password_input_first {
            border-width: 0.75px;
            width: 80%;
            text-align: center;
        }
    }


    /* Large devices (laptops/desktops, 992px and up) */
    @media only screen and (min-width: 992px) {
        .container {
            width: 100%;
        }

        .row {
            width: 100%;
            height: 100%;
        }

        .col {
            width: 100%;
            height: 100%;
        }



        #logo_col {
            margin-top: 10%;

        }

        #logo_id {
            width: 25%;
        }

        #grad1 {
            min-width: 100%;
            min-height: 100vh;
            height: auto;
            width: auto;
            height: auto;
            filter: brightness(100%);
            background-color: lightgrey;
            /* For browsers that do not support gradients */
            background-image: linear-gradient(to right, white, lightgrey);
            /* Standard syntax (must be last) */
        }


        #enter_mobile_number_email {

            border-width: 0.75px;
            width: 40%;
            text-align: center;
        }

        #password_id {

            border-width: 0.75px;
            width: 40%;
            text-align: center;
            border-style: solid;
            border-color: #1f7a1f;
        }

        #login_button {


            font-size: 16px;
            background-color: #003300;
        }

        #forgot_password {

            width: 20%;
            font-size: 16px;
            height: 40px;
            background-color: #003300;
        }

        #show_password_id {
            margin-left: 30%;
        }

        #resend_otp {
            background-color: #E8E8E8
        }

        #enter_mobile_number_input_first {
            border-width: 0.75px;
            width: 40%;
            text-align: center;
        }

        #enter_password_input_first {
            border-width: 0.75px;
            width: 40%;
            text-align: center;
        }
    }


    /* Extra large devices (large laptops and desktops, 1200px and up) */
    @media only screen and (min-width: 1200px) {
        .container {
            width: 100%;
        }

        .row {
            width: 100%;
            height: 100%;
        }

        .col {
            width: 100%;
            height: 100%;
        }



        #logo_col {
            margin-top: 10%;

        }

        #logo_id {
            width: 20%;
        }

        body {
            overflow: hidden;
        }

        #grad1 {
            min-width: 100%;
            min-height: 100vh;
            height: auto;
            width: auto;
            height: auto;
            filter: brightness(100%);
            background-color: lightgrey;
            /* For browsers that do not support gradients */
            background-image: linear-gradient(to right, white, lightgrey);
            /* Standard syntax (must be last) */
        }



        #enter_mobile_number_email {

            border-width: 0.75px;
            width: 40%;
            text-align: center;
        }

        #password_id {

            border-width: 0.75px;
            width: 40%;
            text-align: center;
            border-style: solid;
            border-color: #1f7a1f;
        }

        #login_button {


            font-size: 16px;
            background-color: #003300;
        }

        #forgot_password {

            width: 20%;
            font-size: 16px;
            height: 40px;
            background-color: #003300;
        }

        #show_password_id {
            margin-left: 30%;
        }

        #resend_otp {
            background-color: #E8E8E8
        }

        #enter_mobile_number_input_first {
            border-width: 0.75px;
            width: 40%;
            text-align: center;
        }

        #enter_password_input_first {
            border-width: 0.75px;
            width: 40%;
            text-align: center;
        }
    }
</style>

<body>
    <div id="grad1">
        <div id="first_div">
            <div id="wrapper_id" class="wrapper ">
                <div class="container" id="container_id">
                    <div class="container-fluid">
                        <form method="post" class="">
                            {% csrf_token %}
                            <!-- logo starts -->
                            <div class="row" id="logo_row">
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12" id="logo_col">
                                    <div class="text-center">
                                        <img class="img-fluid " src="{% static 'media/Siva-Company-logo copy.png' %}"
                                            id="logo_id" style="max-width:100%;height:auto;">
                                    </div>
                                </div>
                            </div>
                            <div class="wrapper" id="login_with_password_div">
                                <!-- enter mobile number starts -->
                                <div class="row">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12">
                                        <input type="" 
                                            title="Phone number with 6-9 and remaining 9 digit with 0-9"
                                            class="form-control" placeholder="Enter mobile number or email"
                                            style=" border-radius: 30px; border-style: solid;border-color: #1f7a1f;margin-left: auto;margin-right: auto;"
                                            id="enter_mobile_number_input_first" name="mobile_email" onchange="mobi()"
                                            required>
                                    </div>
                                </div>
                                <!-- password starts -->
                                <div class="row mt-2">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12">
                                        <input type="password" class="form-control" placeholder="Enter password"
                                            style=" border-radius: 30px; border-style: solid;border-color: #1f7a1f;margin-left: auto;margin-right: auto;"
                                            id="enter_password_input_first" name="password" required>
                                    </div>
                                </div>
                            </div>
                            <!-- login button starts -->
                            <div class="row mt-2" id="log_in_row">
                                <div class="col" id="login_col">
                                    <div class="text-center">
                                        <button type="submit" class="btn btn-light" id="login_button"
                                            style="  border-radius: 10px;border-bottom: none;border-top: none;border-left: none;border-right: none;color: white;">Login</button>

                                    </div>
                                </div>
                            </div>
                            <div class="wrapper" id="login_with_otp_click_here_div">
                                <div class="row mt-2">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 text-center">
                                        <span>Login with OTP?</span> <a href="{% url 'customer_login' doc_id=doc_id %}"
                                            style="color: #007bff;">click here</a>
                                    </div>
                                </div>
                                <!-- validation message starts -->
                                <div class="row">
                                    <div class="col text-center" style="color: red;">
                                        {% for i in messages %}
                                        {{i}}
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 text-center">
                                    <span>New customer?</span> <a
                                        href="{% url 'customer_registration' doc_id=doc_id  %}"
                                        style="color: #007bff;">click here</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script>
         $(document).ready(function() {
          function disablePrev() { window.history.forward() }
          window.onload = disablePrev();
       
          window.onpageshow = function(evt) { if (evt.persisted) disableBack() }
       });
        function mobi() {
            x = document.getElementById('enter_mobile_number_input_first').value;


            sessionStorage.setItem("user_number", x);

            $.ajax({
                url: '/ajax/validate_mobile/',
                type: 'POST',
                data: {
                    'mobile': x,
                    'csrfmiddlewaretoken': '{{ csrf_token }}',
                },

                success: function (data) {
                    if (data == "NO mobile") {
                        alert("Account doesn't exist Please Register");
                    }
                }
            });
        }




        var user_number = sessionStorage.getItem("user_number");

        if (user_number == 'null' || user_number == '') {

        } else {
            document.getElementById('enter_mobile_number_input_first').value = user_number;

        }
    </script>
</body>

</html>